<!DOCTYPE html>
<html>
	<head>
		<title>The Canvas Compositing Methods</title>
		<style type="text/css">
			canvas {
				border: dotted 1px black;
				margin: 25px;
			}
		</style>
		<link rel="stylesheet" href="../style.css" />
		<script type="text/javascript">
			window.addEventListener("load", function () {
				var q = document.getElementById('Canvas1');
				if (q && q.getContext) {
					var w = q.getContext("2d");
					if (w) {
						//array of composite methods
						var r = ["source-over", "source-in", "source-out", "source-atop", "lighter", "xor",
							"destination-over", "destination-in", "destination-out", "destination-atop", "darker", "copy"];
						//array of rect coordinates
						var g = [
							{ x: 20, y: 20, width: 75, height: 75 },
							{ x: 40, y: 50, width: 75, height: 75 },
						];
						//selected method
						var l = 0;
						// draw a series of rectangles
						for (var i = 0; i < r.length; i++) {
							var x = "Canvas" + (i + 1);
							var jj = document.getElementById(x);
							//get current composite method
							jj.title = r[l];
							var mn = jj.getContext("2d");

							mn.fillStyle = "blue";
							mn.fillRect(g[0].x, g[0].y, g[0].width, g[0].height);

							// Loop through each compositing operation
							//move to next composite method
							// return image are drawn onto destination image.
							mn.globalCompositeOperation = r[l++];

							mn.fillStyle = "green";
							mn.fillRect(g[1].x, g[1].y, g[1].width, g[1].height);
						}
					}
				}
			});
		</script>
	</head>
	<body>
		<h1>The Canvas Compositing Methods</h1>
		<div id='content'>
			<p>This demo shows how each of the compositing methods affects how drawing operations are made to the canvas.</p>
			<div>
				<canvas id="Canvas1" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas2" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas3" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas4" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas5" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas6" width="150" height="150">Your browser does not support canvas.</canvas>
			</div>
			<div>
				<canvas id="Canvas7" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas8" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas9" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas10" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas11" width="150" height="150">Your browser does not support canvas.</canvas>
				<canvas id="Canvas12" width="150" height="150">Your browser does not support canvas.</canvas>
			</div>
		</div>
	</body>
</html>